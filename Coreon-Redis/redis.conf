# ---------- Network ----------
bind 0.0.0.0
port 6379

# 보호모드: VPC 내부/SG로 통제할 거면 no로 두는 경우 많음
# (보호모드 yes면 특정 조건에서 외부 접속이 막힐 수 있음)
protected-mode no

# ---------- Persistence ----------
# RDB 스냅샷(기본)
save 900 1
save 300 10
save 60 10000

# AOF 켜기 (데이터 유실 완화)
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# ---------- Memory ----------
# ECS 메모리 작은 경우를 고려해서 maxmemory 정책을 지정하는게 안전
# maxmemory는 환경/인스턴스에 맞춰 조정 (예: 256mb, 512mb 등)
# maxmemory 256mb
maxmemory-policy allkeys-lru

# ---------- Logging ----------
loglevel notice

# ---------- Security (임시) ----------
# 운영이면 아래 둘 중 하나는 권장:
# 1) requirepass 설정
# requirepass "CHANGE_ME"
#
# 2) ACL (Redis 6+) - 필요 시 적용
